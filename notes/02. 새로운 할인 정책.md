## 할인정책 변경 !
#### 할인정책이 고정 할인 정책에서 정률 할인 정책으로 변경되었다.
1️⃣ DiscountPolicy를 implement하는 RateDiscountPolicy 클래스를 새로 만들어주고 기능을 구현한다.<br>
2️⃣ OrderServiceImpl 코드를 변경한다.
```
public class OrderServiceImpl implements OrderService{

//    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
    private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
    
}
```
<br>


## OCP와 DIP 위반의 문제 발생 !!!<br>
#### ⛔️  OCP 위반: 클라이언트 코드인 `OrderServiceImpl` 코드를 수정해야한다!!!<br>
#### ⛔️  DIP 위반: `OrderServiceImpl`은 `DiscountPolicy`인터페이스에 의존하지만, 구체화 클래스인 `FixDiscountPolicy`에도 의존하고 있다!!!<br>

<br>

## 💡 해결

`OrderServiceImpl`은 `DiscountPolicy`에**만** 의존하도록 설계와 코드를 변경한다.
```
public class OrderServiceImpl implements OrderService{

    private DiscountPolicy discountPolicy;
    
    }
```

또다른 문제점 - 구현체가 없다! (null pointer exception 발생)

해결방안 - 누군가 클라이언트인 `OrderServiceImpl`에 `DiscountPolicy`의 구현 객체를 대신 생성하고 주입해주어야 한다.