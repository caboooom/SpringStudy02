## ν• μΈμ •μ±… λ³€κ²½ !
#### ν• μΈμ •μ±…μ΄ κ³ μ • ν• μΈ μ •μ±…μ—μ„ μ •λ¥  ν• μΈ μ •μ±…μΌλ΅ λ³€κ²½λμ—λ‹¤.
1οΈβƒ£ DiscountPolicyλ¥Ό implementν•λ” RateDiscountPolicy ν΄λμ¤λ¥Ό μƒλ΅ λ§λ“¤μ–΄μ£Όκ³  κΈ°λ¥μ„ κµ¬ν„ν•λ‹¤.<br>
2οΈβƒ£ OrderServiceImpl μ½”λ“λ¥Ό λ³€κ²½ν•λ‹¤.
```
public class OrderServiceImpl implements OrderService{

//    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
    private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
    
}
```
<br>


## OCPμ™€ DIP μ„λ°μ λ¬Έμ  λ°μƒ !!!<br>
#### β›”οΈ  OCP μ„λ°: κΈ°λ¥μ„ λ³€κ²½ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μΈ `OrderServiceImpl` μ½”λ“λ¥Ό μμ •ν•΄μ•Όν•λ‹¤!!!<br>
#### β›”οΈ  DIP μ„λ°: `OrderServiceImpl`μ€ `DiscountPolicy`μΈν„°νμ΄μ¤μ— μμ΅΄ν•μ§€λ§, κµ¬μ²΄ν™” ν΄λμ¤μΈ `FixDiscountPolicy`μ—λ„ μμ΅΄ν•κ³  μλ‹¤!!!<br>

<br>

## π’΅ ν•΄κ²°

`OrderServiceImpl`μ€ `DiscountPolicy` μ¦‰ μΈν„°νμ΄μ¤μ—**λ§** μμ΅΄ν•λ„λ΅ μ„¤κ³„μ™€ μ½”λ“λ¥Ό λ³€κ²½ν•λ‹¤.
```
public class OrderServiceImpl implements OrderService{

    private DiscountPolicy discountPolicy;
    
    }
```

μƒλ΅μ΄ λ¬Έμ μ  - μΈν„°νμ΄μ¤λ§ μκ³  κµ¬ν„μ²΄κ°€ μ—†λ‹¤! --> null pointer exception λ°μƒ

ν•΄κ²°λ°©μ• - λ„κµ°κ°€ ν΄λΌμ΄μ–ΈνΈμΈ `OrderServiceImpl`μ— `DiscountPolicy`μ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.<br>
<br>

## AppConfig λ“±μ¥
 - μ• ν”λ¦¬μΌ€μ΄μ…μ μ‹¤μ  λ™μ‘μ— ν•„μ”ν• **κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°**ν•λ” μ±…μ„μ„ κ°–λ”λ‹¤.<br>
 - μƒμ„±ν• κ°μ²΄ μΈμ¤ν„΄μ¤μ λ νΌλ°μ¤λ¥Ό μƒμ„±μλ¥Ό ν†µν•΄μ„ μ—°κ²°ν•΄μ¤€λ‹¤. (**μƒμ„±μ μ£Όμ…**)<br>
 - μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ configν•λ” λ³„λ„μ μ„¤μ • ν΄λμ¤μ΄λ‹¤.<br>
 - β€κ³µμ—° κΈ°νμβ€™ μ—­ν• <br>

<br>

### π’΅ DIP μ™„μ„±
β… `MemberServiceImpl`μ€  `MemoryMemberRepository`μ—λ” μμ΅΄ν•μ§€ μ•κ³ , `MemberRepository`μ—λ§ μμ΅΄ν•κ² λμ—λ‹¤.<br>

β… `OrderServiceImpl`μ€ `FixDiscountPolicy`μ—λ” μμ΅΄ν•μ§€ μ•κ³ , `DiscountPolicy`μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ² λμ—λ‹¤.<br>

β… μ¦‰, `MemberServiceImpl`κ³Ό `OrderServiceImpl`μ€ μμ΅΄κ΄€κ³„μ— λ€ν• κ³ λ―Όμ€ μ™Έλ¶€μ— λ§΅κΈ°κ³ , **μ‹¤ν–‰μ—λ§ μ§‘μ¤‘**ν•κ² λμ—λ‹¤!! <br>

<br>

## μ¬μ„¤κ³„λ νμ› μ„λΉ„μ¤ ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨ (DIP λ§μ΅±)
<img src="./images/03-1.png" width="900">

**κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬**
- κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• (`AppConfig`)κ³Ό μ‹¤ν–‰ν•λ” μ—­ν• (`MemberServiceImpl`)μ΄ λ…ν™•ν•κ² λ¶„λ¦¬λμ—λ‹¤.

**μμ΅΄κ΄€κ³„ μ£Όμ… (Dependency Injection)**
- ν΄λΌμ΄μ–ΈνΈμΈ `MemberServiceImpl` , `OrderServiceImpl`μ…μ¥μ—μ„ λ³΄λ©΄ μμ΅΄κ΄€κ³„λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…ν•΄μ£Όλ” κ²ƒμ΄ λλ―€λ΅ μμ΅΄κ΄€κ³„ μ£Όμ…μ΄λΌκ³  ν•λ‹¤.
- μ–΄λ–¤ κ°μ²΄κ°€ λ“¤μ–΄μ¬μ§€λ” μ¤μ§ μ™Έλ¶€(`AppConfig`)μ—μ„ κ²°μ •ν•λ‹¤.
